<html>
<!--Data Structures and Algorithms course assignment-->
<head>
</head>
<body>
<h1>Bubble Sort VS Selection Sort - osittain lajiteltu</h1>
<div id="content"></div>
<script>
    
var totalLength = 1000;

// Luodaan totalLength mittainen taulukko
for (var a=[],i=0;i<totalLength;++i) a[i]=i;

// Tallennetaan generoitu taulukko, joka on ensin sekoitettu ja sitten lajiteltu osittain (lajitteluprosentti muuttujassa sortPercent)
a = makeSet(a);

// Kutsutaan kuplalajittelua
bubbleSort(a);

// Kutsutaan valintalajittelua
selectionSort(a);

    
/*              */
/*** FUNKTIOT ***/
/*              */
    
// Funktio taulukon sekoittajan ja osittaisen lajittelun kutsumiseen
function makeSet(a) {
    a = shuffleSet(a);
    a = bubbleSorthalf(a);
    return a;
}

// Funktio sekoittaa taulukon
function shuffleSet(array) {
  var tmp, current, top = array.length;
  if(top) while(--top) {
    current = Math.floor(Math.random() * (top + 1));
    tmp = array[current];
    array[current] = array[top];
    array[top] = tmp;
  }
  return array;
}

// Funktio lajittelee osan (% sortPercent) taulukosta kuplalajittelulla
function bubbleSorthalf(items) {  
    var length = items.length;
    // Kerroin, kuinka paljon lajitellaan
    var sortPercent = 0.9; // 0 = ei mitään, 1 = kaikki
    length = length*sortPercent;
    for (var i = (length - 1); i >= 0; i--) {
        for (var j = (length - i); j > 0; j--) {
            if (items[j] < items[j - 1]) {
                var tmp = items[j];
                items[j] = items[j - 1];
                items[j - 1] = tmp;
            }
        }
    }
    return items;
}

// Kuplalajittelu koko taulukolle
function bubbleSort(items) {  
    var length = items.length;
    // Kuplalajittelun ajanotto alkaa
    var t0 = performance.now();
    for (var i = (length - 1); i >= 0; i--) {
        for (var j = (length - i); j > 0; j--) {
            if (items[j] < items[j - 1]) {
                var tmp = items[j];
                items[j] = items[j - 1];
                items[j - 1] = tmp;
            }
        }
    }
    // Kuplalajittelun ajanotto päättyy
    var t1 = performance.now();
    console.log("Kuplalajittelun suoritusaika: " + (t1 - t0) + " millisekuntia");
}
    
    
function bubbleSor(a) {
    var swapped;
    // Kuplalajittelun ajanotto alkaa
    var t0 = performance.now();
    do {
        swapped = false;
        for (var i=0; i < a.length-1; i++) {
            if (a[i] > a[i+1]) {
                var temp = a[i];
                a[i] = a[i+1];
                a[i+1] = temp;
                swapped = true;
            }
        }
    } while (swapped);
    // Kuplalajittelun ajanotto päättyy
    var t1 = performance.now();
    console.log("Kuplalajittelun suoritusaika: " + (t1 - t0) + " millisekuntia");
}
    
    
    
    
    
    
    

// Valintalajittelu koko taulukolle
function selectionSort(items) {  
    var length = items.length;
    // Valintalajittelun ajanotto alkaa
    var t3 = performance.now();
    for (var i = 0; i < length - 1; i++) {
        var min = i;
        for (var j = i + 1; j < length; j++) {
            if (items[j] < items[min]) { 
                min = j; 
            }
        }
        if (min != i) {
            var tmp = items[i];
            items[i] = items[min];
            items[min] = tmp;
        }
    }
    // Valintalajittelun ajanotto päättyy
    var t4 = performance.now();
    console.log("Valintalajittelun suoritusaika: " + (t4 - t3) + " millisekuntia");
}
    
</script>
</body>
</html>




